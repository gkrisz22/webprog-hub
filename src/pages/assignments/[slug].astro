---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

export async function getStaticPaths() {
  const assignments = await getCollection('assignments');
  return assignments.map((assignment) => ({
    params: { slug: assignment.slug },
    props: { assignment },
  }));
}

const { assignment } = Astro.props;
const { Content } = await assignment.render();
---

<BaseLayout title={assignment.data.title}>
  <article class="max-w-3xl">
    <header class="mb-8 sm:mb-12">
      <h1 class="text-2xl sm:text-3xl font-semibold text-zinc-50 mb-2">{assignment.data.title}</h1>
      <time class="text-zinc-500">
        Határidő: {assignment.data.dueDate.toLocaleDateString('hu-HU', { year: 'numeric', month: 'long', day: 'numeric' })}
      </time>
    </header>

    <div class="prose prose-invert prose-zinc max-w-none">
      <Content />
    </div>
  </article>
</BaseLayout>
